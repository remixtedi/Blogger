@page "/blogs"
@using Blogger.App.ApiServices
@using Blogger.App.Components.Blogs
@using Blogger.Contracts.Models
@inject IBloggerApiService BloggerApiService

<PageTitle>Blogs</PageTitle>


@{
    if (blogs == null)
    {
        <MudProgressCircular Color="Color.Default" Indeterminate="true"/>
    }
    else
    {
        <MudStack>
            @foreach (var blog in blogs)
            {
                <BlogPreview Blog="blog"></BlogPreview>
            }
        </MudStack>
    }
}


@code {
    private IEnumerable<BlogDTO>? blogs;

    protected override async Task OnInitializedAsync()
    {
        blogs = await BloggerApiService.GetBlogs();
    }

}